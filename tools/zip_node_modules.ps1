
$source = "node_modules"
$destination = "node_modules.zip"

if (-not (Test-Path $source)) {
    Write-Host "Error: '$source' directory not found. Please run 'npm install' first." -ForegroundColor Red
    exit 1
}

if (Test-Path $destination) {
    Write-Host "Removing existing '$destination'..."
    Remove-Item $destination -Force
}

Write-Host "Zipping '$source' to '$destination'... This may take a minute." -ForegroundColor Cyan

# Use specific compression level for speed/size balance
Compress-Archive -Path $source -DestinationPath $destination -CompressionLevel Optimal

Write-Host "Success! '$destination' created." -ForegroundColor Green
Write-Host "Google Drive will now sync this file to the cloud." -ForegroundColor Yellow
